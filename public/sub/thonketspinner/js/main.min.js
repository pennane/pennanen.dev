function animate(){requestAnimationFrame(animate),loaded&&(model.rotation.x+=rotx,model.rotation.y+=roty,model.rotation.z+=rotz,renderer.render(scene,camera))}var modelUrl="assets/thonk-model.json";if(window.location.hash){var taghash=window.location.hash;"#real"===taghash&&(modelUrl="assets/thonk-model-real.json")}var model,loaded=!1,container=document.getElementById("scene"),containerWidth=600,containerHeight=600,scene=new THREE.Scene,camera=new THREE.PerspectiveCamera(800,containerWidth/containerHeight,.1,1e3),renderer=new THREE.WebGLRenderer({alpha:!0}),rotx=0,roty=0,rotz=0;document.body.appendChild(container),renderer.setSize(containerWidth,containerHeight),container.appendChild(renderer.domElement);var loader=new THREE.ObjectLoader;loader.load(modelUrl,function(e){console.log("Model loaded"),model=e,scene.add(e),e.applyMatrix((new THREE.Matrix4).makeTranslation(0,0,0)),loaded=!0},function(e){console.error("An error happened")}),scene.add(camera);var spotLight=new THREE.PointLight(16777215),spotLight2=new THREE.PointLight(16777215);spotLight.position.set(-6,6,4),camera.add(spotLight),camera.position.z=8,camera.position.y=0,animate(),$("#xrot").on("input",function(){rotx=parseFloat(this.value),$("#xval").text(String(this.value))}),$("#yrot").on("input",function(){roty=parseFloat(this.value),$("#yval").text(String(this.value))}),$("#zrot").on("input",function(){rotz=parseFloat(this.value),$("#zval").text(String(this.value))}),$("#resetx").click(function(){model.rotation.x=0,rotx=0,$("#xval").text(0),document.getElementById("xrot").value=0}),$("#resety").click(function(){model.rotation.y=0,roty=0,$("#yval").text(0),document.getElementById("yrot").value=0}),$("#resetz").click(function(){model.rotation.z=0,rotz=0,$("#zval").text(0),document.getElementById("zrot").value=0});