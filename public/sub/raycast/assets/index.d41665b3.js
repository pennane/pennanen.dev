var q=Object.defineProperty;var T=Object.getOwnPropertySymbols;var X=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var K=(s,t,e)=>t in s?q(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var D=(s,t)=>{var e={};for(var i in s)X.call(s,i)&&t.indexOf(i)<0&&(e[i]=s[i]);if(s!=null&&T)for(var i of T(s))t.indexOf(i)<0&&Y.call(s,i)&&(e[i]=s[i]);return e};var c=(s,t,e)=>(K(s,typeof t!="symbol"?t+"":t,e),e);import{c as j,v as G}from"./vendor.72143e10.js";const J=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function e(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=e(n);fetch(n.href,o)}};J();class l{constructor({x:t,y:e}){c(this,"x");c(this,"y");this.x=t,this.y=e}plus(t){return new l({x:this.x+t.x,y:this.y+t.y})}minus(t){return new l({x:this.x-t.x,y:this.y-t.y})}mult(t){return new l({x:this.x*t,y:this.y*t})}distance(t){return Math.hypot(t.x-this.x,t.y-this.y)}signedDistance(t){return this.distance(t.pos)-t.radius}dotProduct(t){return this.x*t.x+this.y*t.y}get length(){return Math.sqrt(this.x*this.x+this.y*this.y)}}class O extends l{constructor({angle:t,length:e}){super({x:Math.cos(t)*e,y:Math.sin(t)*e})}}class Q{constructor(d){c(this,"context");c(this,"pos");c(this,"angle");c(this,"showCircles");c(this,"showLines");c(this,"showPoints");c(this,"color");var x=d,{context:t,x:e,y:i,angle:n}=x,o=D(x,["context","x","y","angle"]);this.pos=new l({x:e,y:i}),this.angle=n,this.context=t,this.showCircles=!!o.showCircles,this.showLines=!!o.showLines,this.showPoints=!!o.showPoints,this.color=o.color}march({position:t,items:e,computedDir:i,iteration:n=0,previousClosest:o,color:d,maxIterationCount:x}){const A=this.context.strokeStyle,B=this.context.fillStyle;t||(t=this.pos);let k=0,R=o?e.filter(h=>h.id!==o.id):e,u=this.closest(R,t),a=t.signedDistance(u),r=new l({x:t.x,y:t.y}),f;for(i?f=i.mult(a):f=new O({angle:this.angle,length:a});k<50&&!(a<1||a>window.innerWidth/3);){if(this.showLines){this.context.strokeStyle=d||this.color,this.context.beginPath(),this.context.moveTo(r.x,r.y);const h=r.plus(f);this.context.lineTo(h.x,h.y),this.context.stroke(),this.context.closePath()}this.showCircles&&(this.context.beginPath(),this.context.arc(r.x,r.y,a,0,2*Math.PI),this.context.strokeStyle="black",this.context.stroke(),this.context.closePath()),r=r.plus(f),u=this.closest(R,r),a=r.signedDistance(u),i?f=i.mult(a):f=new O({angle:this.angle,length:a}),k++}const z=j.exports.average([d||this.color,u.color],void 0,[.5,.5]).alpha(1-n*(1/x)).hex();if(this.showPoints){this.context.fillStyle=z;const h=3;this.context.fillRect(r.x-h/2,r.y-h/2,h,h)}if(this.context.strokeStyle=A,this.context.fillStyle=B,n<4){const h=r.minus(u.pos),m=new l({x:h.x/h.length,y:h.y/h.length}),E=t.plus(r),I=m.mult(E.dotProduct(m)/m.dotProduct(m)),F=E.minus(I),v=new l({x:I.x*-1,y:F.y}),H=new l({x:v.x/v.length,y:v.y/v.length});this.march({items:e,position:r,iteration:n+1,computedDir:H,previousClosest:u,color:z,maxIterationCount:x})}}closest(t,e){return t.reduce((i,n)=>e.signedDistance(i)<e.signedDistance(n)?i:n)}}class U{constructor({target:t,options:e}){c(this,"canvas");c(this,"ctx");c(this,"coordinates");c(this,"scheduled");this.canvas=t,this.coordinates=new l({x:0,y:0}),this.ctx=t.getContext("2d"),this.scheduled=!1,e!=null&&e.fromOffset?(this.canvas.width=t.offsetWidth,this.canvas.height=t.offsetHeight):(this.canvas.width=(e==null?void 0:e.width)||t.width,this.canvas.height=(e==null?void 0:e.height)||t.height),e!=null&&e.mouseMove&&this.canvas.addEventListener("mousemove",i=>{this.setCoordinates(i)}),e!=null&&e.resizing&&(this.scheduled=!1,window.addEventListener("resize",()=>{this.scheduled||setTimeout(()=>{this.resize(),this.scheduled=!1},500),this.scheduled=!0}))}getMousePos(t){const e=this.canvas.getBoundingClientRect(),i=this.canvas.width/e.width,n=this.canvas.height/e.height;return new l({x:(t.clientX-e.left)*i,y:(t.clientY-e.top)*n})}setCoordinates(t){this.coordinates=this.getMousePos(t)}resize(){this.canvas.width=this.canvas.offsetWidth,this.canvas.height=this.canvas.offsetHeight}}class Z{constructor({context:t,x:e,y:i}){c(this,"pos");c(this,"context");c(this,"id");this.pos=new l({x:e,y:i}),this.context=t,this.id=G()}}const y=class extends Z{constructor(t){super(t);c(this,"color");this.color=t.color||y.getRandomColor()}static getRandomColor(){return y.basicColors[Math.floor(Math.random()*y.basicColors.length)]}};let L=y;c(L,"basicColors",["green","red","yellow","blue","orange","purple"]);class $ extends L{constructor({context:t,x:e,y:i,radius:n}){super({context:t,x:e,y:i});c(this,"radius");this.radius=n}show(){let t=this.context.fillStyle;this.context.fillStyle="black",this.context.beginPath(),this.context.arc(this.pos.x,this.pos.y,this.radius,0,2*Math.PI),this.context.fill(),this.context.closePath(),this.context.fillStyle=t}}function P(s,t){return Math.random()*(t-s)+s}function V(s){return s instanceof HTMLCanvasElement}function _(s){return s*(Math.PI/180)}const S=document.getElementById("canvas");if(!S||!V(S))throw new Error("Missing canvas element");const C=new U({target:S,options:{fromOffset:!0,mouseMove:!0,resizing:!0}}),w=C.canvas,g=C.ctx,tt=20,b=[];for(let s=0;s<tt;s++){let t=P(0,w.width),e=P(0,w.height),i=P(20,80);const n=new $({context:g,x:t,y:e,radius:i});b.push(n)}const W=400;function p(){g.fillRect(0,0,w.width,w.height)}function N(){g.lineWidth=1;for(const s of b)s.show()}function et({x:s,y:t}){g.lineWidth=2;for(let e=1;e<=W;e++){const i=_(360/W*e);new Q({context:g,x:s,y:t,angle:i,showCircles:!1,showLines:!1,showPoints:!0,color:"white"}).march({items:b,maxIterationCount:5})}}function st({x:s,y:t}){p(),et({x:s,y:t}),N()}let M=null;w.addEventListener("mousemove",s=>{M||setTimeout(()=>{C.setCoordinates(s),st(C.coordinates),M=null},17),M=s});p();N();
